angular.module("BuscaAtivaEscolarAlert",["ngResource","ui.bootstrap","ui.select"]),angular.module("BuscaAtivaEscolarAlert").controller("formCtrl",function(t,e,a,i){t.static=i,t.greet=function(){$window.alert("Hello "+t.name)},t.fetchCities=function(e){var i={name:e,$hide_loading_feedback:!0};return t.alert.place_uf&&(i.uf=t.alert.place_uf),console.log("[create_alert] Looking for cities: ",i),a.search(i).$promise.then(function(t){return t.results})},t.renderSelectedCity=function(t){return t?t.uf+" / "+t.name:""},t.createAlert=function(t){console.log("iam alive"),e.post("http://api.busca-ativa-escolar.dev.lqdi.net/api/v1/integration/lp/alert_spawn",t).success(function(t){console.log("iam alive")})}}),angular.module("BuscaAtivaEscolarAlert").factory("Cities",function(t){return headers={},t("http://api.busca-ativa-escolar.dev.lqdi.net/api/v1/cities/:id",{id:"@id"},{find:{method:"GET",headers:headers},search:{url:"http://api.busca-ativa-escolar.dev.lqdi.net/api/v1/cities/search",method:"POST",headers:headers},checkIfAvailable:{url:"http://api.busca-ativa-escolar.dev.lqdi.net/api/v1/cities/check_availability",method:"POST",headers:headers}})}),angular.module("BuscaAtivaEscolarAlert").factory("StaticData",function(t,e){function a(){console.log("[platform.static_data] Downloading latest static data definitions..."),h=e.get(p).then(n)}function i(){a()}function n(e){console.log("[platform.static_data] Downloaded! Version=",e.data.version,"Timestamp=",e.data.timestamp,"Data=",e.data.data),f=e.data.data,t.$broadcast("StaticData.ready")}function r(){return p}function o(){return f.length?f.length:0}function s(){return o()>0}function l(){return f.AlertCause?f.AlertCause:[]}function c(){return f.UFs?f.UFs:[]}function u(){return f.APIEndpoints?f.APIEndpoints:[]}function d(){return f.Config?f.Config.uploads.allowed_mime_types:[]}var f={},p="http://api.busca-ativa-escolar.dev.lqdi.net/api/v1/static/static_data?version=latest",h={};return{fetchLatestVersion:a,refresh:i,getAlertCauses:l,getAllowedMimeTypes:d,getUFs:c,getAPIEndpoints:u,isReady:s,getNumChains:o,getDataFile:r}}).run(function(t){t.refresh()});